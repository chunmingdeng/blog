# æ­£åˆ™è¡¨è¾¾å¼

## å®šä½

[link](https://blog.csdn.net/csm0912/article/details/81206848)

> `?=ã€?<=ã€?!ã€?<!`ç›¸å…³çš„æ­£åˆ™è¡¨è¾¾å¼åªæ˜¯è¾…åŠ©åŒ¹é…ï¼Œå®ƒä»¬æœ¬èº«ä¸ä¼šåŒ¹é…å‡ºä»»ä½•å†…å®¹ï¼Œåƒè¿™ç±»çš„æ­£åˆ™è¡¨è¾¾å¼æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºé›¶å®½æ–­è¨€ï¼Œå®ƒä»¬å­˜åœ¨çš„æ„ä¹‰ä¹Ÿåªæ˜¯ä¸ºäº†å®šä½ã€‚

## é›¶å®½æ­£å‘å…ˆè¡Œæ–­è¨€

**_æ–­è¨€_** çš„æ„æ€æ˜¯åˆ¤æ–­æ˜¯å¦æ»¡è¶³  
**_é›¶å®½_** çš„æ„æ€æ˜¯å®ƒåªåŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œå¦‚åŒ^åŒ¹é…å¼€å¤´ï¼Œ$åŒ¹é…æœ«å°¾ï¼Œåªæ˜¯ä¸€ä¸ªä½ç½®ï¼Œä¸è¿”å›åŒ¹é…åˆ°çš„å­—ç¬¦  
**_æ­£å‘_** è¡¨ç¤ºéœ€è¦æ»¡è¶³ patternï¼Œ è´Ÿå‘è¡¨ç¤ºä¸èƒ½æ»¡è¶³ pattern  
**_å…ˆè¡Œ_** è¡¨ç¤ºè¿™ä¸ªæ–­è¨€è¯­å¥å‡ºç°åœ¨æœŸæœ›è¿”å›çš„åŒ¹é…å­—ç¬¦çš„åé¢ã€‚

-   `\B`å•è¯è¾¹ç•Œ

-   `?=`é›¶å®½æ­£å‘å…ˆè¡Œæ–­è¨€ï¼Œéè·å–åŒ¹é…
    > `exp1(?=exp2)`ï¼ŒåŒ¹é…`exp2`ä¹‹å‰çš„`epx1` > `'fictioncompilerfiction'.match(/fiction(?=compiler)/)`åŒ¹é… compiler ä¹‹å‰çš„ fictionï¼Œ**fiction**compilerfiction
-   `?!`é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€ï¼Œéè·å–åŒ¹é…
    > `exp1(?!exp2)`ï¼Œå…¶æ„ä¹‰æ˜¯ä¸æ˜¯å‡ºç°åœ¨`exp2`å‰é¢çš„`exp1`  
    > `'fictioncompilerfiction'.match(/fiction(?!compiler)/)`åŒ¹é…é compiler ä¹‹å‰çš„ fictionï¼Œfictioncompiler**fiction**

javascript å¹¶ä¸æ”¯æŒåè¡Œæ–­è¨€ï¼Œä½†æ˜¯æµè§ˆå™¨æ”¯æŒï¼ˆğŸ˜‚ï¼‰

-   `?<=`é›¶å®½æ­£å‘åè¡Œæ–­è¨€ï¼Œéè·å–åŒ¹é…

    > `(?<=exp1)exp2`ï¼ŒåŒ¹é…`exp1`ä¹‹åçš„`exp2`  
    > `'fictioncompilerfiction'.match(/(?<=)fiction/)`åŒ¹é… compiler ä¹‹åçš„ fictionï¼Œfictioncompiler**fiction**

-   `?<!`é›¶å®½è´Ÿå‘åè¡Œæ–­è¨€ï¼Œæ­£å‘å¦å®šæŸ¥è¯¢

    > `(?<!exp1)exp2`ï¼ŒåŒ¹é…ä¸åœ¨`exp1`ä¹‹åçš„`exp2`  
    > `'ficcomfic'.match(/(?<!com)fic/)`åŒ¹é…ä¸åœ¨ com ä¹‹åçš„ ficï¼Œ**fic**comfic

-   `?:`éæ•è·ç»„
    ```js
    ()è¡¨ç¤ºæ•è·åˆ†ç»„ï¼Œ()ä¼šæŠŠæ¯ä¸ªåˆ†ç»„é‡Œçš„åŒ¹é…çš„å€¼ä¿å­˜èµ·æ¥ï¼Œä½¿ç”¨$n(næ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¬nä¸ªæ•è·ç»„çš„å†…å®¹)
    (?:)è¡¨ç¤ºéæ•è·åˆ†ç»„ï¼Œå’Œæ•è·åˆ†ç»„å”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œéæ•è·åˆ†ç»„åŒ¹é…çš„å€¼ä¸ä¼šä¿å­˜èµ·æ¥(ä½†æ˜¯ä¼šå‚ä¸åŒ¹é…)ï¼Œå½±å“çš„æ˜¯\1 \2è¿™ç§å…³é”®å­—çš„ä½¿ç”¨
    å¦‚ï¼š
    /(?:Swift3)(Swift4)\1/
    /(Swift3)(Swift4)\2/
    ä¸Šé¢ä¸¤ä¸ªæ˜¯ç­‰ä»·çš„
    ```

## ï¼ˆéï¼‰è·å–åŒ¹é…

-   `()`è¡¨ç¤ºæ•è·åˆ†ç»„ï¼Œ()ä¼šæŠŠæ¯ä¸ªåˆ†ç»„é‡Œçš„åŒ¹é…çš„å€¼ä¿å­˜èµ·æ¥ï¼Œä½¿ç”¨$n(n æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¬ n ä¸ªæ•è·ç»„çš„å†…å®¹)
-   `(?:)`è¡¨ç¤ºéæ•è·åˆ†ç»„ï¼Œå’Œæ•è·åˆ†ç»„å”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œéæ•è·åˆ†ç»„åŒ¹é…çš„å€¼ä¸ä¼šä¿å­˜èµ·æ¥(ä½†æ˜¯ä¼šå‚ä¸åŒ¹é…)ï¼Œå½±å“çš„æ˜¯\1 \2 $1 $2 è¿™ç§å…³é”®å­—çš„ä½¿ç”¨

```js
let str = 'xuxi is xuxi is';
let reg = /(xuxi) (is) \1 \2/g; //\1å³è¡¨ç¤ºä½¿ç”¨äº†å­˜å‚¨çš„åŒ¹é…(å­˜å‚¨çš„ç¬¬ä¸€ä¸ªåŒ¹é…)
reg.test(str); // true
str.replace(reg, '$1 $2'); // xuxi is
```

## å‘½åæ•è·ç»„

### å†™æ³•

```js
// æ™®é€šæ•è·ç»„
const normalReg = /(pattern)/;
// å‘½åæ•è·ç»„ï¼Œä¸¤ç§å†™æ³•ç­‰ä»·
const namedReg01 = /(?<name>pattern)/;
const namedReg02 = /(?'name'pattern)/;

// å‘½åæ•è·ç»„åœ¨å­—ç¬¦ä¸²è°ƒç”¨replaceï¼ŒreplaceAllæ–¹æ³•çš„æ—¶å€™ï¼Œ
// ç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°çš„æ—¶å€™ï¼ˆå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ï¼‰å¯ä»¥è®¿é—®åˆ°
const reg = /\d*(?<name1>4)/;
'123456789'.replace(/\d+(?<name1>4)/g, (...arg) => {
    const result = arg.slice(-1);
    console.log(result);
});
// è¾“å‡ºä¸€ä¸ªArray<{[key:string]: string}>
[{"name1":"4"}]
```
